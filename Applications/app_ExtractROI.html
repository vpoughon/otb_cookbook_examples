

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ExtractROI &mdash; OTB CookBook 6.7.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/otb_theme.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ManageNoData" href="app_ManageNoData.html" />
    <link rel="prev" title="DynamicConvert" href="app_DynamicConvert.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index_TOC.html" class="icon icon-home"> OTB CookBook
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                6.7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Welcome to Orfeo ToolBox!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CompilingOTBFromSource.html">Compiling OTB from source</a></li>
<li class="toctree-l1"><a class="reference internal" href="../OTB-Applications.html">A brief tour of OTB Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../QGIS-interface.html">QGIS interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Monteverdi.html">Monteverdi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AdvancedUse.html">Advanced Use</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Recipes.html">Recipes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../Applications.html">Applications</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="Image_Manipulation.html">Image Manipulation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="app_BandMath.html">BandMath</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_BandMathX.html">BandMathX</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_ColorMapping.html">ColorMapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_CompareImages.html">CompareImages</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_ConcatenateImages.html">ConcatenateImages</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_DownloadSRTMTiles.html">DownloadSRTMTiles</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_DynamicConvert.html">DynamicConvert</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">ExtractROI</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="app_ManageNoData.html">ManageNoData</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_MultiResolutionPyramid.html">MultiResolutionPyramid</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_PixelValue.html">PixelValue</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_Quicklook.html">Quicklook</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_ReadImageInfo.html">ReadImageInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_SplitImage.html">SplitImage</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_TileFusion.html">TileFusion</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_ZonalStatistics.html">ZonalStatistics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Feature_Extraction.html">Feature Extraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="Stereo.html">Stereo</a></li>
<li class="toctree-l2"><a class="reference internal" href="Geometry.html">Geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="Learning.html">Learning</a></li>
<li class="toctree-l2"><a class="reference internal" href="SAR.html">SAR</a></li>
<li class="toctree-l2"><a class="reference internal" href="Segmentation.html">Segmentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="Vector_Data_Manipulation.html">Vector Data Manipulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="Image_Filtering.html">Image Filtering</a></li>
<li class="toctree-l2"><a class="reference internal" href="Hyperspectral.html">Hyperspectral</a></li>
<li class="toctree-l2"><a class="reference internal" href="Change_Detection.html">Change Detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="Calibration.html">Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="Deprecated.html">Deprecated</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../C++.html">C++ API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FAQ.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Contributors.html">Contributors</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index_TOC.html">OTB CookBook</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index_TOC.html">Docs</a> &raquo;</li>
        
          <li><a href="../Applications.html">Applications</a> &raquo;</li>
        
          <li><a href="Image_Manipulation.html">Image Manipulation</a> &raquo;</li>
        
      <li>ExtractROI</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://gitlab.orfeo-toolbox.org/orfeotoolbox/OTB/blob/develop/Documentation/Cookbook/rst/Applications/app_ExtractROI.rst" class="fa fa-gitlab"> Edit on GitLab</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="extractroi">
<span id="app-extractroi"></span><h1>ExtractROI<a class="headerlink" href="#extractroi" title="Permalink to this headline">¶</a></h1>
<p>Extract a ROI defined by the user.</p>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This application extracts a Region Of Interest with user parameters. There are four mode of extraction. The standard mode allows the user to enter one point (upper left corner of the region to extract) and a size. The extent mode needs two points (upper left corner and lower right) and the radius mode need the center of the region and the radius: it will extract the rectangle containing the circle defined and limited by the image dimension. The fit mode needs a reference image or vector and the dimension of the extracted region will be the same as the extent of the reference. Different units are available such as pixel, image physical space or longitude and latitude.</p>
</div>
<div class="section" id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#fit-options" id="id1">Fit options</a></li>
<li><a class="reference internal" href="#extent-options" id="id2">Extent options</a></li>
<li><a class="reference internal" href="#radius-options" id="id3">Radius options</a></li>
<li><a class="reference internal" href="#elevation-management" id="id4">Elevation management</a></li>
</ul>
</div>
<p><strong>Input Image</strong> <code class="code docutils literal notranslate"><span class="pre">-in</span> <span class="pre">image</span></code> <em>Mandatory</em> <br />
Image to be processed.</p>
<p><strong>Output Image</strong> <code class="code docutils literal notranslate"><span class="pre">-out</span> <span class="pre">image</span> <span class="pre">[dtype]</span></code> <em>Mandatory</em> <br />
Region of interest from the input image</p>
<p><strong>Extraction mode</strong> <code class="code docutils literal notranslate"><span class="pre">-mode</span> <span class="pre">[standard|fit|extent|radius]</span></code> <em>Default value: standard</em> <br /></p>
<ul class="simple">
<li><strong>Standard</strong> <br /> In standard mode extraction is done with 2 parameters: the upper left corner and the size of the region, decomposed in X and Y coordinates.</li>
<li><strong>Fit</strong> <br /> In fit mode, extract is made from a reference: image or vector dataset.</li>
<li><strong>Extent</strong> <br /> In extent mode, the ROI is defined by two points, the upper left corner and the lower right corner, decomposed in 2 coordinates: X and Y. The unit for those coordinates can be set.</li>
<li><strong>Radius</strong> <br /> In radius mode, the ROI is defined by a point and a radius. The unit of those two parameters can be chosen independently.</li>
</ul>
<div class="section" id="fit-options">
<h3><a class="toc-backref" href="#id1">Fit options</a><a class="headerlink" href="#fit-options" title="Permalink to this headline">¶</a></h3>
<p><strong>Reference image</strong> <code class="code docutils literal notranslate"><span class="pre">-mode.fit.im</span> <span class="pre">image</span></code> <em>Mandatory</em> <br />
Reference image to define the ROI</p>
<p><strong>Reference vector</strong> <code class="code docutils literal notranslate"><span class="pre">-mode.fit.vect</span> <span class="pre">vectorfile</span></code> <em>Mandatory</em> <br />
The extent of the input vector file is computed and then gives a region of interest that will be extracted.</p>
</div>
<div class="section" id="extent-options">
<h3><a class="toc-backref" href="#id2">Extent options</a><a class="headerlink" href="#extent-options" title="Permalink to this headline">¶</a></h3>
<p><strong>X coordinate of the Upper left corner</strong> <code class="code docutils literal notranslate"><span class="pre">-mode.extent.ulx</span> <span class="pre">float</span></code> <em>Default value: 0</em> <br />
X coordinate of upper left corner point.</p>
<p><strong>Y coordinate of Upper Left corner point</strong> <code class="code docutils literal notranslate"><span class="pre">-mode.extent.uly</span> <span class="pre">float</span></code> <em>Default value: 0</em> <br />
Y coordinate of upper left corner point.</p>
<p><strong>X coordinate of Lower Right corner point</strong> <code class="code docutils literal notranslate"><span class="pre">-mode.extent.lrx</span> <span class="pre">float</span></code> <em>Default value: 0</em> <br />
X coordinate of lower right corner point.</p>
<p><strong>Y coordinate of Lower Right corner point</strong> <code class="code docutils literal notranslate"><span class="pre">-mode.extent.lry</span> <span class="pre">float</span></code> <em>Default value: 0</em> <br />
Y coordinate of lower right corner point.</p>
<p><strong>Unit</strong> <code class="code docutils literal notranslate"><span class="pre">-mode.extent.unit</span> <span class="pre">[pxl|phy|lonlat]</span></code> <em>Default value: pxl</em> <br /></p>
<ul class="simple">
<li><strong>Pixel</strong> <br /> The unit for the parameters coordinates will be the pixel, meaning the index of the two points.</li>
<li><strong>Image physical space</strong> <br /> The unit for the parameters coordinates will be the physical measure of the image.</li>
<li><strong>Longitude and latitude</strong> <br /> The unit for the parameters coordinates will be the longitude and the latitude.</li>
</ul>
</div>
<div class="section" id="radius-options">
<h3><a class="toc-backref" href="#id3">Radius options</a><a class="headerlink" href="#radius-options" title="Permalink to this headline">¶</a></h3>
<p><strong>Radius</strong> <code class="code docutils literal notranslate"><span class="pre">-mode.radius.r</span> <span class="pre">float</span></code> <em>Default value: 0</em> <br />
This is the radius parameter of the radius mode.</p>
<p><strong>Radius unit</strong> <code class="code docutils literal notranslate"><span class="pre">-mode.radius.unitr</span> <span class="pre">[pxl|phy]</span></code> <em>Default value: pxl</em> <br /></p>
<ul class="simple">
<li><strong>Pixel</strong> <br /> The unit of the radius will be the pixel.</li>
<li><strong>Image physical space</strong> <br /> The unit of the radius will be the physical measure of the image.</li>
</ul>
<p><strong>X coordinate of the center</strong> <code class="code docutils literal notranslate"><span class="pre">-mode.radius.cx</span> <span class="pre">float</span></code> <em>Default value: 0</em> <br />
This is the center coordinate of the radius mode, it will be either an ordinate or a latitude.</p>
<p><strong>Y coordinate of the center</strong> <code class="code docutils literal notranslate"><span class="pre">-mode.radius.cy</span> <span class="pre">float</span></code> <em>Default value: 0</em> <br /></p>
<p><strong>Center unit</strong> <code class="code docutils literal notranslate"><span class="pre">-mode.radius.unitc</span> <span class="pre">[pxl|phy|lonlat]</span></code> <em>Default value: pxl</em> <br /></p>
<ul class="simple">
<li><strong>Pixel</strong> <br /> The unit for the center coordinates will be the pixel</li>
<li><strong>Image physical space</strong> <br /> The unit for the center coordinates will be the physical measure of the image.</li>
<li><strong>Lon/Lat</strong> <br /> The unit for the center coordinates will be the longitude and the latitude.</li>
</ul>
<hr class="docutils" />
<p><strong>Start X</strong> <code class="code docutils literal notranslate"><span class="pre">-startx</span> <span class="pre">int</span></code> <em>Default value: 0</em> <br />
ROI start x position.</p>
<p><strong>Start Y</strong> <code class="code docutils literal notranslate"><span class="pre">-starty</span> <span class="pre">int</span></code> <em>Default value: 0</em> <br />
ROI start y position.</p>
<p><strong>Size X</strong> <code class="code docutils literal notranslate"><span class="pre">-sizex</span> <span class="pre">int</span></code> <em>Default value: 0</em> <br />
size along x in pixels.</p>
<p><strong>Size Y</strong> <code class="code docutils literal notranslate"><span class="pre">-sizey</span> <span class="pre">int</span></code> <em>Default value: 0</em> <br />
size along y in pixels.</p>
<p><strong>Output Image channels</strong> <code class="code docutils literal notranslate"><span class="pre">-cl</span> <span class="pre">string1</span> <span class="pre">string2...</span></code> <br />
Channels to write in the output image.</p>
</div>
<div class="section" id="elevation-management">
<h3><a class="toc-backref" href="#id4">Elevation management</a><a class="headerlink" href="#elevation-management" title="Permalink to this headline">¶</a></h3>
<p>This group of parameters allows managing elevation values. Supported formats are SRTM, DTED or any geotiff. DownloadSRTMTiles application could be a useful tool to list/download tiles related to a product.</p>
<p><strong>DEM directory</strong> <code class="code docutils literal notranslate"><span class="pre">-elev.dem</span> <span class="pre">directory</span></code> <br />
This parameter allows selecting a directory containing Digital Elevation Model files. Note that this directory should contain only DEM files. Unexpected behaviour might occurs if other images are found in this directory.</p>
<p><strong>Geoid File</strong> <code class="code docutils literal notranslate"><span class="pre">-elev.geoid</span> <span class="pre">filename</span> <span class="pre">[dtype]</span></code> <br />
Use a geoid grid to get the height above the ellipsoid in case there is no DEM available, no coverage for some points or pixels with no_data in the DEM tiles. A version of the geoid can be found on the OTB website(<a class="reference external" href="https://gitlab.orfeo-toolbox.org/orfeotoolbox/otb-data/blob/master/Input/DEM/egm96.grd">https://gitlab.orfeo-toolbox.org/orfeotoolbox/otb-data/blob/master/Input/DEM/egm96.grd</a>).</p>
<p><strong>Default elevation</strong> <code class="code docutils literal notranslate"><span class="pre">-elev.default</span> <span class="pre">float</span></code> <em>Default value: 0</em> <br />
This parameter allows setting the default height above ellipsoid when there is no DEM available, no coverage for some points or pixels with no_data in the DEM tiles, and no geoid file has been set. This is also used by some application as an average elevation value.</p>
<hr class="docutils" />
<p><strong>Available RAM (MB)</strong> <code class="code docutils literal notranslate"><span class="pre">-ram</span> <span class="pre">int</span></code> <em>Default value: 256</em> <br />
Available memory for processing (in MB).</p>
<p><strong>Load parameters from XML</strong> <code class="code docutils literal notranslate"><span class="pre">-inxml</span> <span class="pre">filename.xml</span></code> <br />
Load application parameters from an XML file.</p>
<p><strong>Save parameters to XML</strong> <code class="code docutils literal notranslate"><span class="pre">-outxml</span> <span class="pre">filename.xml</span></code> <br />
Save application parameters to an XML file.</p>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>From the command-line:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>otbcli_ExtractROI -in VegetationIndex.hd -mode extent -mode.extent.ulx <span class="m">40</span> -mode.extent.uly <span class="m">40</span> -mode.extent.lrx <span class="m">150</span> -mode.extent.lry <span class="m">150</span> -out ExtractROI.tif
</pre></div>
</div>
<p>From Python:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">otbApplication</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">otbApplication</span><span class="o">.</span><span class="n">Registry</span><span class="o">.</span><span class="n">CreateApplication</span><span class="p">(</span><span class="s2">&quot;ExtractROI&quot;</span><span class="p">)</span>

<span class="n">app</span><span class="o">.</span><span class="n">SetParameterString</span><span class="p">(</span><span class="s2">&quot;in&quot;</span><span class="p">,</span> <span class="s2">&quot;VegetationIndex.hd&quot;</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">SetParameterString</span><span class="p">(</span><span class="s2">&quot;mode&quot;</span><span class="p">,</span><span class="s2">&quot;extent&quot;</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">SetParameterFloat</span><span class="p">(</span><span class="s2">&quot;mode.extent.ulx&quot;</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">SetParameterFloat</span><span class="p">(</span><span class="s2">&quot;mode.extent.uly&quot;</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">SetParameterFloat</span><span class="p">(</span><span class="s2">&quot;mode.extent.lrx&quot;</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">SetParameterFloat</span><span class="p">(</span><span class="s2">&quot;mode.extent.lry&quot;</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">SetParameterString</span><span class="p">(</span><span class="s2">&quot;out&quot;</span><span class="p">,</span> <span class="s2">&quot;ExtractROI.tif&quot;</span><span class="p">)</span>

<span class="n">app</span><span class="o">.</span><span class="n">ExecuteAndWriteOutput</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="app_ManageNoData.html" class="btn btn-neutral float-right" title="ManageNoData" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="app_DynamicConvert.html" class="btn btn-neutral" title="DynamicConvert" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019 CNES. The OTB CookBook is licensed under a Creative Commons Attribution-ShareAlike 4.0 International license (CC-BY-SA).

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>